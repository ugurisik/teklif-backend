---
name: vulnerability-scanner
description: Advanced vulnerability analysis principles. OWASP 2025, Supply Chain Security, attack surface mapping, risk prioritization.
allowed-tools: Read, Glob, Grep, Bash
---

# Vulnerability Scanner

> Think like an attacker, defend like an expert. 2025 threat landscape awareness.

## ğŸ”§ Runtime Scripts

**Execute for automated validation:**

| Script | Purpose | Usage |
|--------|---------|-------|
| `scripts/security_scan.py` | Validate security principles applied | `python scripts/security_scan.py <project_path>` |

## ğŸ“‹ Reference Files

| File | Purpose |
|------|---------|
| [checklists.md](checklists.md) | OWASP Top 10, Auth, API, Data protection checklists |

---

## 1. Security Expert Mindset

### Core Principles

| Principle | Application |
|-----------|-------------|
| **Assume Breach** | Design as if attacker already inside |
| **Zero Trust** | Never trust, always verify |
| **Defense in Depth** | Multiple layers, no single point |
| **Least Privilege** | Minimum required access only |
| **Fail Secure** | On error, deny access |

### Threat Modeling Questions

Before scanning, ask:
1. What are we protecting? (Assets)
2. Who would attack? (Threat actors)
3. How would they attack? (Attack vectors)
4. What's the impact? (Business risk)

---

## 2. OWASP Top 10:2025

### Risk Categories

| Rank | Category | Think About |
|------|----------|-------------|
| **A01** | Broken Access Control | Who can access what? IDOR, SSRF |
| **A02** | Security Misconfiguration | Defaults, headers, exposed services |
| **A03** | Software Supply Chain ğŸ†• | Dependencies, CI/CD, build integrity |
| **A04** | Cryptographic Failures | Weak crypto, exposed secrets |
| **A05** | Injection | User input â†’ system commands |
| **A06** | Insecure Design | Flawed architecture |
| **A07** | Authentication Failures | Session, credential management |
| **A08** | Integrity Failures | Unsigned updates, tampered data |
| **A09** | Logging & Alerting | Blind spots, no monitoring |
| **A10** | Exceptional Conditions ğŸ†• | Error handling, fail-open states |

### 2025 Key Changes

```
2021 â†’ 2025 Shifts:
â”œâ”€â”€ SSRF merged into A01 (Access Control)
â”œâ”€â”€ A02 elevated (Cloud/Container configs)
â”œâ”€â”€ A03 NEW: Supply Chain (major focus)
â”œâ”€â”€ A10 NEW: Exceptional Conditions
â””â”€â”€ Focus shift: Root causes > Symptoms
```

---

## 3. Supply Chain Security (A03)

### Attack Surface

| Vector | Risk | Question to Ask |
|--------|------|-----------------|
| **Dependencies** | Malicious packages | Do we audit new deps? |
| **Lock files** | Integrity attacks | Are they committed? |
| **Build pipeline** | CI/CD compromise | Who can modify? |
| **Registry** | Typosquatting | Verified sources? |

### Defense Principles

- Verify package integrity (checksums)
- Pin versions, audit updates
- Use private registries for critical deps
- Sign and verify artifacts

---

## 4. Attack Surface Mapping

### What to Map

| Category | Elements |
|----------|----------|
| **Entry Points** | APIs, forms, file uploads |
| **Data Flows** | Input â†’ Process â†’ Output |
| **Trust Boundaries** | Where auth/authz checked |
| **Assets** | Secrets, PII, business data |

### Prioritization Matrix

```
Risk = Likelihood Ã— Impact

High Impact + High Likelihood â†’ CRITICAL
High Impact + Low Likelihood  â†’ HIGH
Low Impact + High Likelihood  â†’ MEDIUM
Low Impact + Low Likelihood   â†’ LOW
```

---

## 5. Risk Prioritization

### CVSS + Context

| Factor | Weight | Question |
|--------|--------|----------|
| **CVSS Score** | Base severity | How severe is the vuln? |
| **EPSS Score** | Exploit likelihood | Is it being exploited? |
| **Asset Value** | Business context | What's at risk? |
| **Exposure** | Attack surface | Internet-facing? |

### Prioritization Decision Tree

```
Is it actively exploited (EPSS >0.5)?
â”œâ”€â”€ YES â†’ CRITICAL: Immediate action
â””â”€â”€ NO â†’ Check CVSS
         â”œâ”€â”€ CVSS â‰¥9.0 â†’ HIGH
         â”œâ”€â”€ CVSS 7.0-8.9 â†’ Consider asset value
         â””â”€â”€ CVSS <7.0 â†’ Schedule for later
```

---

## 6. Exceptional Conditions (A10 - New)

### Fail-Open vs Fail-Closed

| Scenario | Fail-Open (BAD) | Fail-Closed (GOOD) |
|----------|-----------------|---------------------|
| Auth error | Allow access | Deny access |
| Parsing fails | Accept input | Reject input |
| Timeout | Retry forever | Limit + abort |

### What to Check

- Exception handlers that catch-all and ignore
- Missing error handling on security operations
- Race conditions in auth/authz
- Resource exhaustion scenarios

---

## 7. Scanning Methodology

### Phase-Based Approach

```
1. RECONNAISSANCE
   â””â”€â”€ Understand the target
       â”œâ”€â”€ Technology stack
       â”œâ”€â”€ Entry points
       â””â”€â”€ Data flows

2. DISCOVERY
   â””â”€â”€ Identify potential issues
       â”œâ”€â”€ Configuration review
       â”œâ”€â”€ Dependency analysis
       â””â”€â”€ Code pattern search

3. ANALYSIS
   â””â”€â”€ Validate and prioritize
       â”œâ”€â”€ False positive elimination
       â”œâ”€â”€ Risk scoring
       â””â”€â”€ Attack chain mapping

4. REPORTING
   â””â”€â”€ Actionable findings
       â”œâ”€â”€ Clear reproduction steps
       â”œâ”€â”€ Business impact
       â””â”€â”€ Remediation guidance
```

---

## 8. Code Pattern Analysis

### High-Risk Patterns

| Pattern | Risk | Look For |
|---------|------|----------|
| **String concat in queries** | Injection | `"SELECT * FROM " + user_input` |
| **Dynamic code execution** | RCE | `eval()`, `exec()`, `Function()` |
| **Unsafe deserialization** | RCE | `pickle.loads()`, `unserialize()` |
| **Path manipulation** | Traversal | User input in file paths |
| **Disabled security** | Various | `verify=False`, `--insecure` |

### Secret Patterns

| Type | Indicators |
|------|-----------|
| API Keys | `api_key`, `apikey`, high entropy |
| Tokens | `token`, `bearer`, `jwt` |
| Credentials | `password`, `secret`, `key` |
| Cloud | `AWS_`, `AZURE_`, `GCP_` prefixes |

---

## 9. Cloud Security Considerations

### Shared Responsibility

| Layer | You Own | Provider Owns |
|-------|---------|---------------|
| Data | âœ… | âŒ |
| Application | âœ… | âŒ |
| OS/Runtime | Depends | Depends |
| Infrastructure | âŒ | âœ… |

### Cloud-Specific Checks

- IAM: Least privilege applied?
- Storage: Public buckets?
- Network: Security groups tightened?
- Secrets: Using secrets manager?

---

## 10. Anti-Patterns

| âŒ Don't | âœ… Do |
|----------|-------|
| Scan without understanding | Map attack surface first |
| Alert on every CVE | Prioritize by exploitability + asset |
| Ignore false positives | Maintain verified baseline |
| Fix symptoms only | Address root causes |
| Scan once before deploy | Continuous scanning |
| Trust third-party deps blindly | Verify integrity, audit code |

---

## 11. Reporting Principles

### Finding Structure

Each finding should answer:
1. **What?** - Clear vulnerability description
2. **Where?** - Exact location (file, line, endpoint)
3. **Why?** - Root cause explanation
4. **Impact?** - Business consequence
5. **How to fix?** - Specific remediation

### Severity Classification

| Severity | Criteria |
|----------|----------|
| **Critical** | RCE, auth bypass, mass data exposure |
| **High** | Data exposure, privilege escalation |
| **Medium** | Limited scope, requires conditions |
| **Low** | Informational, best practice |

---

> **Remember:** Vulnerability scanning finds issues. Expert thinking prioritizes what matters. Always ask: "What would an attacker do with this?"


# YazÄ±lÄ±m HatalarÄ± / Bug KataloÄŸu (AÅŸÄ±rÄ± DetaylÄ± + Ã‡ok Ã‡eÅŸitli)

> Bu dokÃ¼man â€œtek tek tÃ¼m bugâ€™larâ€Ä± sayamaz (sonsuz kombinasyon), ama pratikte yazÄ±lÄ±m dÃ¼nyasÄ±nda bugâ€™larÄ±n **neredeyse tamamÄ±nÄ± kapsayan hata sÄ±nÄ±flarÄ±nÄ±** ve her sÄ±nÄ±fÄ±n altÄ±nda gÃ¶rÃ¼len **Ã§ok sayÄ±da alt-hata tÃ¼rÃ¼nÃ¼** verir.  
> Her madde: **Nedir â†’ Belirti â†’ Tipik neden â†’ Tespit â†’ Fix â†’ Ã–nleme**.

---

## 0) En sÄ±k gÃ¶rÃ¼len â€œmeta-hatalarâ€ (her ÅŸeyi bozan kÃ¶k nedenler)
- **YanlÄ±ÅŸ varsayÄ±m**: â€œBu asla null gelmez / asla 0 olmaz / asla eÅŸzamanlÄ± olmazâ€
- **SÄ±nÄ±rlarÄ±n net olmamasÄ±**: â€œKim sorumlu? UI mÄ± backend mi? DB mi servis mi?â€
- **SÃ¶zleÅŸme yokluÄŸu**: API contract / schema / event format / versioning belirsiz
- **GÃ¶zlemlenebilirlik yokluÄŸu**: Prodâ€™da bug var ama kanÄ±t yok (log/trace/metric)
- **Test stratejisi yokluÄŸu**: Unit var ama entegrasyon, contract, e2e yok
- **Zaman ve daÄŸÄ±tÄ±klÄ±k hafife alÄ±nmasÄ±**: Timeout, retry, ordering, clock skew

---

## 1) Gereksinim / ÃœrÃ¼n / UX kaynaklÄ± bugâ€™lar

### 1.1 Belirsiz gereksinim
- **Belirti:** â€œAma ben bÃ¶yle istemiÅŸtimâ€ tartÄ±ÅŸmasÄ±
- **Neden:** Ã–lÃ§Ã¼ yok (hÄ±zlÄ±, gÃ¼venli, kolay)
- **Tespit:** Kabul kriterleri yazÄ±lamÄ±yor
- **Fix:** MetriÄŸe baÄŸla (`p95 < 300ms`), Ã¶rnek senaryo ekle
- **Ã–nleme:** PRD + Acceptance Criteria + Ã¶rnek input/output tablolarÄ±

### 1.2 Ã‡eliÅŸen gereksinimler
- **Belirti:** UI baÅŸka, backend baÅŸka davranÄ±r
- **Fix:** Tek â€œsource of truthâ€; ADR (Architecture Decision Record) yaz
- **Ã–nleme:** Versiyonlu spec + deÄŸiÅŸiklik gÃ¼nlÃ¼ÄŸÃ¼

### 1.3 Edge-case unutma (empty/max/invalid)
- **Belirti:** â€œNadirenâ€ crash
- **Fix:** Edge-case matrix (empty, 1 item, max, invalid, slow network, offline)
- **Ã–nleme:** Test case ÅŸablonu + property-based test

### 1.4 UX â€œhataâ€larÄ± (teknik deÄŸil ama Ã¼retimde bug gibi)
- **Ã–rnekler:**
    - Loading yok â†’ kullanÄ±cÄ± tekrar tÄ±klar â†’ double submit
    - YanlÄ±ÅŸ hata mesajÄ± â†’ kullanÄ±cÄ± yanlÄ±ÅŸ aksiyon alÄ±r
    - Geri tuÅŸu (Android) / swipe-back (iOS) stateâ€™i bozar
- **Ã–nleme:** UX state machine + retry/backoff UI + disable/lock

---

## 2) Kod mantÄ±ÄŸÄ± / iÅŸ kuralÄ± bugâ€™larÄ± (klasik)

### 2.1 Off-by-one (sÄ±nÄ±r hatasÄ±)
- **Belirti:** Son eleman eksik/ fazla
- **Neden:** inclusive/exclusive karÄ±ÅŸÄ±r
- **Tespit:** SÄ±nÄ±r testleri (0,1,2,n-1,n)
- **Fix:** Standard helper (`rangeExclusive`) + test
- **Ã–nleme:** SÄ±nÄ±r tablosu + lint

### 2.2 YanlÄ±ÅŸ karÅŸÄ±laÅŸtÄ±rma / eÅŸitlik
- `==` vs `===`, case sensitivity, locale compare, unicode compare
- â€œ0â€, 0, false farkÄ±
- **Ã–nleme:** Tip gÃ¼venliÄŸi + strict compare

### 2.3 Default deÄŸer bugâ€™Ä±
- **Belirti:** Yeni kullanÄ±cÄ±da sistem bozuk, eskilerde deÄŸil
- **Neden:** Default config, feature flag defaultâ€™u yanlÄ±ÅŸ
- **Ã–nleme:** â€œSafe defaultâ€ politikasÄ± + config testleri

### 2.4 Durum makinesi eksikliÄŸi
- **Belirti:** â€œÄ°ÅŸlem yarÄ±da kaldÄ±â€ durumlarÄ± yÃ¶netilemez
- **Ã–nleme:** State machine (pendingâ†’processingâ†’done/failed) + idempotency

---

## 3) Tip sistemi / JSON / Validasyon bugâ€™larÄ±

### 3.1 Åema drift (client-server mismatch)
- **Belirti:** Prodâ€™da parse hatasÄ±
- **Neden:** Alan adÄ± deÄŸiÅŸti ama client gÃ¼ncellenmedi
- **Tespit:** Contract tests / schema registry
- **Fix:** Backward compatible deÄŸiÅŸiklik + versioning
- **Ã–nleme:** OpenAPI/Protobuf/JSON schema + CI doÄŸrulama

### 3.2 Partial update bugâ€™larÄ±
- **Belirti:** PATCH ile alanlar â€œsilinirâ€
- **Neden:** `null` vs â€œunsetâ€ farkÄ± korunmaz
- **Fix:** Patch semantics belirle (RFC6902 / merge patch)
- **Ã–nleme:** DTO kurallarÄ± + test

### 3.3 Validation eksikliÄŸi / fazla katÄ± validation
- **Eksik:** KÃ¶tÃ¼ veri DBâ€™ye girer
- **Fazla katÄ±:** GerÃ§ek kullanÄ±cÄ± datasÄ± reddedilir (isimde apostrof)
- **Ã–nleme:** Allowlist + normalize + iyi error messages

---

## 4) Tarih/Saat/Zaman bugâ€™larÄ± (en sinsi)

### 4.1 UTC / local karÄ±ÅŸmasÄ±
- **Belirti:** 1 gÃ¼n kayma
- **Fix:** Storage UTC, UI local; API her zaman ISO8601 + timezone
- **Ã–nleme:** Time policy dokÃ¼manÄ± + test

### 4.2 DST (yaz saati) bugâ€™Ä±
- **Belirti:** 23/25 saatlik gÃ¼n, cron ÅŸaÅŸÄ±rÄ±r
- **Fix:** Wall-clock yerine UTC; cron timezone explicit
- **Ã–nleme:** DST simÃ¼lasyon testleri

### 4.3 â€œNowâ€ baÄŸÄ±mlÄ±lÄ±ÄŸÄ±
- **Belirti:** Testler flaky, prodâ€™da farklÄ± davranÄ±r
- **Fix:** Fake clock / injectable time provider
- **Ã–nleme:** Zaman soyutlamasÄ±

### 4.4 TTL/expiry hatalarÄ±
- Token, cache TTL, signed URL sÃ¼releri yanlÄ±ÅŸ
- **Ã–nleme:** TTL budget + alarm + audit

---

## 5) SayÄ±sal / finans / yuvarlama bugâ€™larÄ±

### 5.1 Float ile para hesaplama
- **Belirti:** KuruÅŸ sapmasÄ±
- **Fix:** Integer â€œkuruÅŸâ€ / Decimal type
- **Ã–nleme:** Finans iÅŸlemlerinde float yasak

### 5.2 Rounding mode bugâ€™larÄ±
- Bankers rounding vs normal rounding
- **Ã–nleme:** Rounding standardÄ± + test dataset

### 5.3 Overflow/underflow
- 32-bit int taÅŸmasÄ±, timestamp Ã§arpma
- **Ã–nleme:** BigInt/64-bit + sÄ±nÄ±r testleri

---

## 6) VeritabanÄ± / ORM / SQL bugâ€™larÄ± (Ã§ok geniÅŸ)

### 6.1 N+1 Query
- **Belirti:** Veri bÃ¼yÃ¼yÃ¼nce p95 fÄ±rlar
- **Tespit:** Query count metric + ORM debug log
- **Fix:** Eager loading / join / batch fetch
- **Ã–nleme:** â€œQuery budgetâ€ (Ã¶r: endpoint baÅŸÄ± max 10 query)

### 6.2 YanlÄ±ÅŸ indeks stratejisi
- Missing index, wrong composite order, low selectivity index
- **Tespit:** `EXPLAIN ANALYZE`, slow query log
- **Fix:** Composite index (where + order by)
- **Ã–nleme:** Query review + load test

### 6.3 Transaction eksikliÄŸi
- **Belirti:** YarÄ±m kayÄ±t, tutarsÄ±z stok
- **Fix:** DB transaction / outbox pattern
- **Ã–nleme:** Kritik akÄ±ÅŸlar iÃ§in atomicity spec

### 6.4 Deadlock / lock contention
- **Belirti:** Random fail, retry ile dÃ¼zelir
- **Fix:** Kilit sÄ±rasÄ± standardÄ±, kÄ±sa transaction
- **Ã–nleme:** Deadlock retry + backoff + metrik

### 6.5 Isolation yanlÄ±ÅŸlÄ±ÄŸÄ±
- Dirty read, phantom read, non-repeatable read
- **Ã–nleme:** Isolation seviyesi kararÄ± + test

### 6.6 Soft delete tuzaklarÄ±
- Filtre unutulur, unique constraint bozulur, joinâ€™lerde sÄ±zÄ±ntÄ±
- **Fix:** Default scope/view, unique constraint iÃ§in `WHERE deleted_at IS NULL` benzeri strateji
- **Ã–nleme:** Query builder policy

### 6.7 Migration tuzaklarÄ±
- Long-running migration lockâ€™lar
- Backfill job yok
- Deploy sÄ±rasÄ± kÄ±rÄ±lÄ±r
- **Fix:** Expandâ†’migrateâ†’contract, online migration
- **Ã–nleme:** Migration review checklist

### 6.8 Connection pool bugâ€™larÄ±
- Leak, pool size yanlÄ±ÅŸ, idle timeout
- **Ã–nleme:** Pool metrics + alarm

---

## 7) Cache / CDN / TutarlÄ±lÄ±k bugâ€™larÄ±

### 7.1 Cache invalidation hatalarÄ±
- Wrong key, wrong TTL, wrong scope
- **Fix:** Versioned keys, event invalidation, write-through
- **Ã–nleme:** â€œCache contractâ€ dokÃ¼manÄ±

### 7.2 Stampede (thundering herd)
- **Fix:** single-flight, request coalescing, jitter TTL
- **Ã–nleme:** Hot endpoint korumasÄ±

### 7.3 Stale-while-revalidate yanlÄ±ÅŸlÄ±ÄŸÄ±
- KullanÄ±cÄ± uzun sÃ¼re eski veri gÃ¶rÃ¼r
- **Fix:** max stale limit + background refresh
- **Ã–nleme:** SWR policy

### 7.4 CDN cache poisoning / wrong headers
- `Cache-Control` yanlÄ±ÅŸ â†’ private data cacheâ€™lenir
- **Ã–nleme:** Header testleri + security review

---

## 8) Concurrency / paralellik bugâ€™larÄ±

### 8.1 Race condition
- **Ã–rnek:** Stok azaltma: readâ†’checkâ†’write
- **Fix:** Atomic update (`UPDATE ... SET stock = stock-1 WHERE stock>0`)
- **Ã–nleme:** Optimistic locking, unique constraints

### 8.2 Lost update
- **Fix:** version column (OCC), ETag
- **Ã–nleme:** â€œUpdate = check versionâ€ standardÄ±

### 8.3 Double submit / replay
- **Fix:** Idempotency key + dedupe store
- **Ã–nleme:** Her kritik POST idempotent

### 8.4 Thread-safety / shared mutable state
- Singleton cache map, global variables
- **Ã–nleme:** Immutable + safe concurrency primitives

---

## 9) DaÄŸÄ±tÄ±k sistem bugâ€™larÄ± (network + retry + ordering)

### 9.1 Timeout yok / yanlÄ±ÅŸ timeout
- **Belirti:** Kuyruk gibi birikir
- **Fix:** end-to-end timeout budget
- **Ã–nleme:** Standard timeout matrix (client/server/LB)

### 9.2 Retry storm
- **Fix:** exponential backoff + jitter + circuit breaker
- **Ã–nleme:** Retry policy tek yerde

### 9.3 Circuit breaker yok
- **Belirti:** Bir servis Ã¶lÃ¼r, herkes ona abanÄ±r
- **Fix:** CB + fallback + bulkhead
- **Ã–nleme:** Resilience patterns

### 9.4 Out-of-order events
- **Fix:** sequence number, versioning, reorder buffer
- **Ã–nleme:** Event contract + consumer idempotency

### 9.5 At-least-once delivery
- **Fix:** exactly-once deÄŸil, dedupe/idempotency
- **Ã–nleme:** Consumer tasarÄ±m standardÄ±

### 9.6 Clock skew
- **Fix:** NTP + tolerant validation
- **Ã–nleme:** Clock drift alarmÄ±

---

## 10) API tasarÄ±mÄ± / HTTP bugâ€™larÄ±

### 10.1 YanlÄ±ÅŸ status code
- 200 ile hata dÃ¶ndÃ¼rmek, 500 ile client hatasÄ± dÃ¶ndÃ¼rmek
- **Ã–nleme:** API style guide + contract tests

### 10.2 Hata formatÄ± tutarsÄ±z
- **Fix:** Standard error schema (`code`, `message`, `details`, `traceId`)
- **Ã–nleme:** Shared error middleware

### 10.3 Pagination bugâ€™larÄ±
- Offset ile kayma, cursor yanlÄ±ÅŸ
- **Fix:** keyset + tie-breaker (unique id)
- **Ã–nleme:** Pagination contract test

### 10.4 Rate limit yok / yanlÄ±ÅŸ
- **Fix:** token bucket + key selection (IP/user/token)
- **Ã–nleme:** Abuse test + limit policy

### 10.5 Webhook bugâ€™larÄ±
- Signature doÄŸrulama yok, replay koruma yok, event ordering yok
- **Ã–nleme:** Webhook standardÄ± + idempotency

---

## 11) GÃ¼venlik bugâ€™larÄ± (detaylÄ± geniÅŸ liste)

### 11.1 Broken Access Control (IDOR)
- **Belirti:** BaÅŸka kullanÄ±cÄ±nÄ±n verisi gÃ¶rÃ¼nÃ¼r
- **Fix:** Policy check (resource owner)
- **Ã–nleme:** Yetkilendirme her endpointâ€™te zorunlu

### 11.2 Injection tÃ¼rleri
- SQL injection
- NoSQL injection
- LDAP injection
- Command injection
- Template injection (SSTI)
- GraphQL injection (query depth abuse)
- **Ã–nleme:** Param binding + allowlist + WAF (gerektiÄŸinde)

### 11.3 XSS tÃ¼rleri
- Reflected
- Stored
- DOM-based
- **Fix:** output escaping + CSP + sanitize
- **Ã–nleme:** Auto-escape template + security tests

### 11.4 CSRF
- **Fix:** SameSite + CSRF token + double submit cookie
- **Ã–nleme:** State-changing requestâ€™lerde zorunlu

### 11.5 SSRF
- URL fetch endpointâ€™leri, image proxyâ€™ler
- DNS rebinding, internal metadata access (cloud)
- **Fix:** allowlist + egress filter + block private IP ranges
- **Ã–nleme:** SSRF test suite

### 11.6 Auth bugâ€™larÄ±
- JWT alg=none, wrong issuer/audience, refresh token rotasyonu yok
- Session fixation
- Password reset token reuse
- OTP brute force (rate limit yok)
- **Ã–nleme:** Auth checklist + pentest

### 11.7 Crypto bugâ€™larÄ±
- Weak RNG
- Insecure hashing (md5/sha1) password iÃ§in
- Wrong salt/iterations
- TLS verification disabled
- **Ã–nleme:** KÃ¼tÃ¼phane standardÄ± + code review â€œcrypto gateâ€

### 11.8 Secrets sÄ±zÄ±ntÄ±sÄ±
- Logâ€™larda token
- Client bundle iÃ§inde API key
- Repoâ€™da .env
- **Ã–nleme:** secret scanning + redaction + vault

### 11.9 Supply-chain
- Dependency hijack, typosquatting, lockfile drift
- **Ã–nleme:** SBOM, pin versions, audit, sigstore

---

## 12) Frontend / Mobile bugâ€™larÄ± (Ã§ok Ã§eÅŸit)

### 12.1 UI state bugâ€™larÄ±
- Stale UI (cache)
- Optimistic update rollback yok
- Concurrent navigation (2 kez push)
- **Ã–nleme:** Single source of truth + state machine

### 12.2 Performance UI bugâ€™larÄ±
- Re-render storm
- Heavy list without virtualization
- Main thread blocking (image decode)
- **Ã–nleme:** profiling + lazy loading + memoization

### 12.3 Memory leak
- Unsubscribed listeners
- Timers not disposed
- Large image cache
- **Ã–nleme:** lifecycle discipline + leak detector

### 12.4 Offline-first bugâ€™larÄ±
- Conflict resolution yok
- Queue replay idempotent deÄŸil
- Partial sync
- **Ã–nleme:** sync protocol + conflict strategy

### 12.5 Push notification bugâ€™larÄ±
- Token refresh handling yok
- iOS permission flow yanlÄ±ÅŸ
- Notification click deep-link state bozar
- **Ã–nleme:** push lifecycle test matrix

### 12.6 i18n/RTL/typography bugâ€™larÄ±
- TÃ¼rkÃ§e Ä°/i case-folding
- Metin taÅŸmasÄ±
- RTL layout bozulmasÄ±
- **Ã–nleme:** pseudo-localization + locale test

### 12.7 Accessibility bugâ€™larÄ±
- Focus order, contrast, screen reader labels yok
- **Ã–nleme:** a11y checklist + automated scans

---

## 13) Networking / DNS / TLS bugâ€™larÄ±

- **DNS caching**: yanlÄ±ÅŸ TTL, stale DNS
- **Connection pooling**: socket exhaustion
- **HTTP keep-alive**: yanlÄ±ÅŸ ayar
- **Proxy headers**: `X-Forwarded-Proto` yanlÄ±ÅŸ â†’ redirect loop
- **TLS issues**: chain incomplete, SNI, cert rotation bug
- **H2/H3 quirks**: multiplexing, middlebox issues
- **Ã–nleme:** network observability + synthetic tests

---

## 14) Performans / Ã¶lÃ§eklenebilirlik bugâ€™larÄ± (derin)

### 14.1 N+1 sadece DB deÄŸil
- N+1 HTTP calls
- N+1 filesystem reads
- N+1 cache misses
- **Ã–nleme:** batch/aggregation + metrics

### 14.2 Hot partitions
- DB shard / Kafka partition / Redis cluster hot spot
- **Fix:** partition key redesign, salting, load distribution
- **Ã–nleme:** access pattern review

### 14.3 Backpressure yok
- Queue consumer yetiÅŸmez â†’ memory blow-up
- **Fix:** bounded queues, rate limit, shed load
- **Ã–nleme:** saturation metrics

### 14.4 OOM ve memory fragmentation
- BÃ¼yÃ¼k objeler, leak, native buffers
- **Ã–nleme:** heap profiles + limits

---

## 15) Test bugâ€™larÄ± (neden testler yetmiyor?)

- **Flaky tests**: time/random/network
- **Mock hell**: her ÅŸey mock â†’ gerÃ§eÄŸi yakalamaz
- **Test isolation yok**: DB state paylaÅŸÄ±mÄ±
- **E2E yok**: kritik akÄ±ÅŸlar test edilmemiÅŸ
- **Ã–nleme:** test pyramid + contract tests + deterministic time

---

## 16) CI/CD / Build / Release bugâ€™larÄ±

- **Env drift**: dev/stage/prod farklÄ±
- **Wrong build artifact**: eski commit deploy
- **Feature flag misconfig**: prodâ€™da yanlÄ±ÅŸ default
- **Migration order**: schema/app uyumsuz
- **Rollback yok**: incident uzar
- **Ã–nleme:** immutable artifacts + deploy runbook + canary

---

## 17) Container / Kubernetes / Infra bugâ€™larÄ±

- **Readiness/Liveness yanlÄ±ÅŸ**: restart loop
- **Resource limits yok/yanlÄ±ÅŸ**: OOMKill
- **ConfigMap/Secret drift**
- **Clock skew in nodes**
- **NetworkPolicy yanlÄ±ÅŸ**: servisler konuÅŸamaz
- **Volume permissions**: app yazamaz
- **Ã–nleme:** infra tests + probes standardÄ±

---

## 18) Observability / Logging bugâ€™larÄ±

- **Correlation ID yok**
- **Log levels yanlÄ±ÅŸ**
- **PII loglama**
- **Metric cardinality patlamasÄ±** (label explosion)
- **Tracing sampling yanlÄ±ÅŸ**
- **Ã–nleme:** observability standards + redaction + budgets

---

## 19) Veri pipeline / analitik bugâ€™larÄ±

- **Double counting** (event replay)
- **Attribution yanlÄ±ÅŸ** (campaign)
- **Time window bugâ€™Ä±** (timezone)
- **Schema evolution** (event fields deÄŸiÅŸir)
- **Late arriving data** (gecikmeli event)
- **Ã–nleme:** event versioning + dedupe + data contracts

---

## 20) Arama / sÄ±ralama / filtreleme bugâ€™larÄ± (Ã§ok sÄ±k)
- **Locale collation** (TÃ¼rkÃ§e Ä°/i)
- **Unicode normalization**
- **Stable sort beklentisi**
- **Pagination + search combined** (cursor invalid)
- **Relevance tuning yok**
- **Filter injection**
- **Ã–nleme:** collation strategy + normalization pipeline + tests

---

## 21) Ã–deme / abonelik / entitlement bugâ€™larÄ± (en pahalÄ± bugâ€™lar)
- **Idempotency yok** â†’ double charge
- **Webhook doÄŸrulama yok** â†’ fake premium
- **Race condition**: entitlement update vs UI check
- **Grace period / retry loop bugâ€™Ä±**
- **Refund/chargeback state machine yok**
- **Ã–nleme:** billing spec + signature verify + OCC + audit

---

## 22) Dosya / medya / storage bugâ€™larÄ±
- **Orphan files** (DB silindi file kaldÄ±)
- **Public bucket mistake**
- **Signed URL TTL wrong**
- **MIME spoofing**
- **Large file timeouts**
- **Ã–nleme:** lifecycle rules + server-side sniff + GC job

---

## 23) AI/LLM entegrasyon bugâ€™larÄ± (modern)
- **Prompt injection**
- **Hallucinationâ€™a gÃ¼venmek**
- **PII leakage**
- **Cost blow-up (token)**
- **Non-determinism** (format bozulur)
- **Tool abuse** (modelin yetkisiz aksiyonlarÄ±)
- **Ã–nleme:** output validation + policy isolation + quotas + RAG w/ checks

---

## 24) HÄ±zlÄ± â€œSÄ±nÄ±flandÄ±rma ÅŸablonuâ€ (Bug raporu standardÄ±)
Her bug iÃ§in aÅŸaÄŸÄ±yÄ± doldur:
- **Etki:** data loss? security? revenue? UX?
- **YÃ¼zde:** kaÃ§ kullanÄ±cÄ± etkileniyor?
- **Tekrarlanabilirlik:** %100 mÃ¼, nadir mi?
- **KÃ¶k neden sÄ±nÄ±fÄ±:** (validation / concurrency / migration / auth / time / cache)
- **Tespit sinyali:** hangi metric/log?
- **Fix:** hÄ±zlÄ± hotfix + kalÄ±cÄ± Ã§Ã¶zÃ¼m + Ã¶nleme testi

---

## 25) â€œDaha da geniÅŸletmekâ€ iÃ§in: Ä°stersen 2. versiyon
Bu dokÃ¼manÄ± daha da bÃ¼yÃ¼tÃ¼p (gerÃ§ekten devasa bir katalog):
- Her alt maddeye **mini Ã¶rnek senaryo** (2-3 satÄ±r),
- â€œ**YanlÄ±ÅŸ implementasyon** vs **doÄŸru implementasyon**â€ karÅŸÄ±laÅŸtÄ±rmasÄ±,
- Her sÄ±nÄ±f iÃ§in **otomatik test reÃ§etesi** (unit/integration/contract/e2e),
- Her sÄ±nÄ±f iÃ§in **metrik/alert Ã¶nerileri** (p95, error rate, saturation, queue lag)
  ekleyebilirim.

> Ama ÅŸimdilik bu sÃ¼rÃ¼m bile, pratikte gÃ¶rdÃ¼ÄŸÃ¼n bugâ€™larÄ±n %95+â€™ini sÄ±nÄ±flandÄ±rÄ±p yakalamaya yetecek kadar geniÅŸ bir Ã§erÃ§eve verir.
